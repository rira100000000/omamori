# This file contains a vulnerability detectable by static analysis tools like Brakeman.

require 'sqlite3'

def find_user(username)
  db = SQLite3::Database.open 'users.db'
  # Vulnerable to SQL injection
  query = "SELECT * FROM users WHERE username = '#{username}'"
  puts "Executing query: #{query}"
  db.execute query
rescue SQLite3::Exception => e
  puts "Exception occurred: #{e}"
ensure
  db.close if db
end

# Example usage (vulnerable)
# find_user("' OR '1'='1")